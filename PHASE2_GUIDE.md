# ุฑุงูููุง ูุงุฒ 2 - ููุทู ุจุงุฒ

## ุฎูุงุตู ูพุงุฏูโุณุงุฒ

ูุงุฒ 2 ููุทู ุงุตู ุจุงุฒ ุญุงูุธู ุฑุง ูพุงุฏูโุณุงุฒ ูโฺฉูุฏ ฺฉู ุดุงูู ุชุดุฎุต ุชุทุจูุ ูุฏุฑุช ููุจุช ุจู ุจุงุฒฺฉูุงูุ ู ุณุณุชู ุงูุชุงุฒุฏู ุงุณุช.

---

## ูฺฺฏโูุง ุฌุฏุฏ

### 1. ุณุณุชู ุชุดุฎุต ุชุทุจู (Match Detection)

**ูุญูู ฺฉุงุฑ:**
1. ุจุงุฒฺฉู ุฑู ฺฉุงุฑุช ุงูู ฺฉูฺฉ ูโฺฉูุฏ โ ฺฉุงุฑุช ุจุงุฒ ูโุดูุฏ
2. ุจุงุฒฺฉู ุฑู ฺฉุงุฑุช ุฏูู ฺฉูฺฉ ูโฺฉูุฏ โ ฺฉุงุฑุช ุจุงุฒ ูโุดูุฏ
3. ุณุณุชู ุจุง ุชุฃุฎุฑ 0.5 ุซุงูู ุงุนุฏุงุฏ ุฑุง ููุงุณู ูโฺฉูุฏ:
   - **ุงฺฏุฑ ฺฉุณุงู ุจุงุดูุฏ**: ฺฉุงุฑุชโูุง ุณุจุฒ ุดุฏู ู ูุญู ูโุดููุฏุ ุงูุชุงุฒ ุจุงุฒฺฉู +1
   - **ุงฺฏุฑ ูุชูุงูุช ุจุงุดูุฏ**: ูพุงู "ุชูุงุด ุฏูุจุงุฑู!" ููุงุด ุฏุงุฏู ุดุฏู ู ุจุนุฏ ุงุฒ 1.5 ุซุงูู ฺฉุงุฑุชโูุง ุจุฑูโฺฏุฑุฏูุฏ

**ฺฉุฏ ูุฑุชุจุท:**
```python
def on_card_flipped(self, card):
    self.flipped_cards.append(card)
    if len(self.flipped_cards) == 2:
        self.is_processing = True
        invoke(self.check_match, delay=0.5)

def check_match(self):
    card1, card2 = self.flipped_cards
    if card1.number == card2.number:
        self.on_match_success(card1, card2)
    else:
        self.on_match_failure(card1, card2)
```

---

### 2. ูุฏุฑุช ููุจุช (Turn Management)

**ูพุดุชุจุงู ุงุฒ 1 ุชุง 5 ุจุงุฒฺฉู:**
- ูุฑ ุจุงุฒฺฉู ุฏุฑ ููุจุช ุฎูุฏ ูโุชูุงูุฏ ุฏู ฺฉุงุฑุช ุจุงุฒ ฺฉูุฏ
- ุงฺฏุฑ ุฌูุช ุฏุฑุณุช ุจุงุดุฏุ ููุจุช ููฺูุงู ุจุง ุงู ุงุณุช
- ุงฺฏุฑ ุฌูุช ุงุดุชุจุงู ุจุงุดุฏุ ููุจุช ุจู ุจุงุฒฺฉู ุจุนุฏ ูโุฑุณุฏ

**ููุงุด ุจุตุฑ:**
- ุจุงุฒฺฉู ูุนู ุจุง ุฑูฺฏ ุฒุฑุฏ ู ููุด (โ) ูุดุงู ุฏุงุฏู ูโุดูุฏ
- ูุชู "ููุจุช: ุจุงุฒฺฉู X" ุฏุฑ ุจุงูุง ุตูุญู

**ฺฉุฏ ูุฑุชุจุท:**
```python
def next_turn(self):
    self.current_player = (self.current_player + 1) % self.num_players
    self.update_ui()
```

---

### 3. ููู ฺฉูฺฉ (Click Lock)

**ฺุฑุง ูุงุฒ ุงุณุชุ**
ุฌููฺฏุฑ ุงุฒ ฺฉูฺฉ ุฑู ฺฉุงุฑุช ุณูู ุฏุฑ ุญุงู ฺฉู ุณุณุชู ุฏุฑ ุญุงู ูพุฑุฏุงุฒุด ุฏู ฺฉุงุฑุช ูุจู ุงุณุช.

**ูุญูู ฺฉุงุฑ:**
- ูุชุบุฑ `is_processing` ููุช True ุจุงุดุฏุ ฺฉูฺฉโูุง ุฌุฏุฏ ูุงุฏุฏู ฺฏุฑูุชู ูโุดููุฏ
- ุงู ููู ุฏุฑ ููุงุฑุฏ ุฒุฑ ูุนุงู ูโุดูุฏ:
  - ุจุนุฏ ุงุฒ ุจุงุฒ ุดุฏู ฺฉุงุฑุช ุฏูู
  - ุฏุฑ ุญู ุงููุดู
  - ุฏุฑ ุญู ููุงุด ูพุงู ุจุงุฒุฎูุฑุฏ

**ฺฉุฏ ูุฑุชุจุท:**
```python
# ุฏุฑ NumberCard.input()
if game_manager and not game_manager.is_processing:
    self.flip()
    
# ุฏุฑ GameManager
self.is_processing = True  # ููู
# ... ูพุฑุฏุงุฒุด ...
self.is_processing = False  # ุจุงุฒ ฺฉุฑุฏู ููู
```

---

### 4. ุชุฃุฎุฑ ุงุฏฺฏุฑ (Learning Delay)

**ูุฏู:**
ุฏุงุฏู ูุฑุตุช 1.5 ุซุงูู ุจู ฺฉูุฏฺฉ ุจุฑุง ุงุฏฺฏุฑ ู ุจู ุฎุงุทุฑ ุณูพุฑุฏู ูููุนุช ฺฉุงุฑุชโูุง

**ูพุงุฏูโุณุงุฒ:**
```python
def on_match_failure(self, card1, card2):
    self.show_feedback('ุชูุงุด ุฏูุจุงุฑู! โ', color.red, 1.5)
    invoke(lambda: self.hide_cards(card1, card2), delay=1.5)  # โ ุชุฃุฎุฑ 1.5 ุซุงูู
    self.next_turn()
```

---

### 5. ุณุณุชู ุงูุชุงุฒุฏู (Scoring System)

**ูุญูู ูุญุงุณุจู:**
- ูุฑ ุฌูุช ุฏุฑุณุช = 1 ุงูุชุงุฒ
- ุงูุชุงุฒ ูุฑ ุจุงุฒฺฉู ุฌุฏุงฺฏุงูู ุฐุฎุฑู ูโุดูุฏ
- ุฏุฑ ูพุงุงู ุจุงุฒุ ุจุงุฒฺฉู ุจุง ุจุดุชุฑู ุงูุชุงุฒ ุจุฑูุฏู ุงุณุช

**ููุงุด:**
```
ุจุงุฒฺฉู 1: 3 โ   (ุจุงุฒฺฉู ูุนู)
ุจุงุฒฺฉู 2: 2
ุจุงุฒฺฉู 3: 1
```

**ูพุงุงู ุจุงุฒ:**
- ููุช ุชูุงู ุฌูุชโูุง ูพุฏุง ุดููุฏุ ูพุงู ุจุฑูุฏู ููุงุด ุฏุงุฏู ูโุดูุฏ:
  - ุชฺฉ ุจุฑูุฏู: "๐ ุจุงุฒฺฉู X ุจุฑูุฏู ุดุฏ! ๐"
  - ูุณุงู: "๐ ูุณุงู! ุจุงุฒฺฉูุงู 1, 2 ๐"

---

### 6. ุณุณุชู ูุญุฏูุฏู ุณุทุญ (Level Range)

**ูุฏู:**
ุงูฺฉุงู ุชูุฑู ุจุง ูุญุฏูุฏูโูุง ูุฎุชูู ุงุนุฏุงุฏ (ูุซูุงู 1-10ุ 11-20ุ 21-30)

**ูพุงุฑุงูุชุฑ `level_start`:**
- ุชุนู ูโฺฉูุฏ ุงุนุฏุงุฏ ุงุฒ ฺู ุนุฏุฏ ุดุฑูุน ุดููุฏ
- ูุซุงู:
  - `level_start=1` โ ุงุนุฏุงุฏ 1 ุชุง 10 (ุจุง 10 ุฌูุช)
  - `level_start=11` โ ุงุนุฏุงุฏ 11 ุชุง 20 (ุจุง 10 ุฌูุช)
  - `level_start=21` โ ุงุนุฏุงุฏ 21 ุชุง 30 (ุจุง 10 ุฌูุช)

**ููุงุด:**
ูุชู "ุณุทุญ: 1-10" ุฏุฑ ุจุงูุง ุตูุญู ููุงุด ุฏุงุฏู ูโุดูุฏ

**ฺฉุฏ:**
```python
numbers = list(range(self.level_start, self.level_start + self.num_pairs)) * 2
```

---

### 7. ุจุงุฒุฎูุฑุฏ ูุงุถุญ (Clear Feedback)

**ุจุฑุง ฺฉูุฏฺฉุงู ฺฉูุงุณ ุณูู:**

**ูพุงูโูุง ุจุงุฒุฎูุฑุฏ:**
- โ ููููุช: "ุนุงู! โ" ุจุง ุฑูฺฏ ุณุจุฒ
- โ ุดฺฉุณุช: "ุชูุงุด ุฏูุจุงุฑู! โ" ุจุง ุฑูฺฏ ูุฑูุฒ
- ๐ ุจุฑูุฏู: "๐ ุจุงุฒฺฉู X ุจุฑูุฏู ุดุฏ! ๐" ุจุง ุฑูฺฏ ุทูุง

**ูุดุงูฺฏุฑูุง ุจุตุฑ:**
- ุฑูฺฏ ุฒุฑุฏ ุจุฑุง ุจุงุฒฺฉู ูุนู
- ููุด (โ) ฺฉูุงุฑ ูุงู ุจุงุฒฺฉู ูุนู
- ฺฉุงุฑุชโูุง ุฌูุช ุดุฏู ุณุจุฒ ูโุดููุฏ ู ูุญู ูโุดููุฏ

---

## ุฑุงุจุท ฺฉุงุฑุจุฑ (UI)

### ฺุฏูุงู ุตูุญู:

```
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
โ                                                             โ
โ  ุจุงุฒฺฉู 1: 3 โ              ุณุทุญ: 1-10        ููุจุช: ุจุงุฒฺฉู 1โ
โ  ุจุงุฒฺฉู 2: 2                                                โ
โ                                                             โ
โ              โโโโโ  โโโโโ  โโโโโ  โโโโโ                   โ
โ              โ ? โ  โ 3 โ  โ ? โ  โ ? โ                   โ
โ              โโโโโ  โโโโโ  โโโโโ  โโโโโ                   โ
โ                                                             โ
โ              โโโโโ  โโโโโ  โโโโโ  โโโโโ                   โ
โ              โ ? โ  โ ? โ  โ 5 โ  โ ? โ                   โ
โ              โโโโโ  โโโโโ  โโโโโ  โโโโโ                   โ
โ                                                             โ
โ                       ุนุงู! โ                               โ
โ                                                             โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
```

---

## ูุญูู ุงุณุชูุงุฏู

### ูุซุงู 1: ุจุงุฒ ุชฺฉโููุฑู ุจุง ุณุทุญ 1-10
```python
game_manager = GameManager(
    num_pairs=10,      # 10 ุฌูุช = 20 ฺฉุงุฑุช
    num_players=1,     # ุชฺฉโููุฑู
    level_start=1      # ุงุนุฏุงุฏ 1 ุชุง 10
)
```

### ูุซุงู 2: ุจุงุฒ ุฏู ููุฑู ุจุง ุณุทุญ 11-20
```python
game_manager = GameManager(
    num_pairs=10,      # 10 ุฌูุช = 20 ฺฉุงุฑุช
    num_players=2,     # ุฏู ููุฑู
    level_start=11     # ุงุนุฏุงุฏ 11 ุชุง 20
)
```

### ูุซุงู 3: ุจุงุฒ ูพูุฌ ููุฑู ุจุง ุณุทุญ 1-6
```python
game_manager = GameManager(
    num_pairs=6,       # 6 ุฌูุช = 12 ฺฉุงุฑุช
    num_players=5,     # ูพูุฌ ููุฑู
    level_start=1      # ุงุนุฏุงุฏ 1 ุชุง 6
)
```

---

## ุฌุฑุงู ุจุงุฒ (Game Flow)

### ุณูุงุฑู 1: ุฌูุช ูููู โ

1. ุจุงุฒฺฉู 1 ฺฉุงุฑุช ุจุง ุนุฏุฏ 5 ุฑุง ุจุงุฒ ูโฺฉูุฏ
2. ุจุงุฒฺฉู 1 ฺฉุงุฑุช ุฏฺฏุฑ ุจุง ุนุฏุฏ 5 ุฑุง ุจุงุฒ ูโฺฉูุฏ
3. ุณุณุชู ุชุทุจู ุฑุง ุชุดุฎุต ูโุฏูุฏ (0.5s delay)
4. ูพุงู "ุนุงู! โ" ููุงุด ุฏุงุฏู ูโุดูุฏ
5. ฺฉุงุฑุชโูุง ุณุจุฒ ุดุฏู ู ูุญู ูโุดููุฏ
6. ุงูุชุงุฒ ุจุงุฒฺฉู 1: +1
7. **ููุจุช ููฺูุงู ุจุง ุจุงุฒฺฉู 1 ุงุณุช** โ

### ุณูุงุฑู 2: ุฌูุช ูุงูููู โ

1. ุจุงุฒฺฉู 1 ฺฉุงุฑุช ุจุง ุนุฏุฏ 3 ุฑุง ุจุงุฒ ูโฺฉูุฏ
2. ุจุงุฒฺฉู 1 ฺฉุงุฑุช ุจุง ุนุฏุฏ 7 ุฑุง ุจุงุฒ ูโฺฉูุฏ
3. ุณุณุชู ุนุฏู ุชุทุจู ุฑุง ุชุดุฎุต ูโุฏูุฏ (0.5s delay)
4. ูพุงู "ุชูุงุด ุฏูุจุงุฑู! โ" ููุงุด ุฏุงุฏู ูโุดูุฏ
5. **1.5 ุซุงูู ุตุจุฑ ุจุฑุง ุงุฏฺฏุฑ**
6. ฺฉุงุฑุชโูุง ุจุฑูโฺฏุฑุฏูุฏ
7. ููุจุช ุจู ุจุงุฒฺฉู 2 ูโุฑุณุฏ

---

## ูุชุบุฑูุง ฺฉูุฏ

### ุฏุฑ GameManager:

```python
self.num_pairs         # ุชุนุฏุงุฏ ุฌูุชโูุง ฺฉุงุฑุช
self.num_players       # ุชุนุฏุงุฏ ุจุงุฒฺฉูุงู (1-5)
self.level_start       # ุดุฑูุน ูุญุฏูุฏู ุงุนุฏุงุฏ
self.current_player    # ุดูุงุฑู ุจุงุฒฺฉู ูุนู (0-based)
self.scores            # ูุณุช ุงูุชุงุฒุงุช [3, 2, 1, 0, 0]
self.total_matches     # ุชุนุฏุงุฏ ฺฉู ุฌูุชโูุง ูพุฏุง ุดุฏู
self.is_processing     # ููู ุจุฑุง ุฌููฺฏุฑ ุงุฒ ฺฉูฺฉ ุณูู
self.flipped_cards     # ูุณุช 2 ฺฉุงุฑุช ุจุงุฒ ุดุฏู
```

---

## ุขุฒูุงุด

ุจุฑุง ุชุณุช ูุงุฒ 2:
```bash
python test_phase2.py
```

ุงู ุงุณฺฉุฑูพุช ุชูุงู ูฺฺฏโูุง ูุงุฒ 2 ุฑุง ุจุฏูู ูุงุฒ ุจู ุงุฌุฑุง GUI ุจุฑุฑุณ ูโฺฉูุฏ.

---

## ูฺฉุงุช ููู ุจุฑุง ุชูุณุนูโุฏููุฏฺฏุงู

1. **ููู ฺฉูฺฉ:** ููุดู `is_processing` ุฑุง ุจุฑุฑุณ ฺฉูุฏ ูุจู ุงุฒ ุงุฌุงุฒู ฺฉูฺฉ
2. **ุชุฃุฎุฑ ุงุฏฺฏุฑ:** ุงุฒ `invoke(delay=1.5)` ุจุฑุง ุชุฃุฎุฑ ุงุณุชูุงุฏู ฺฉูุฏุ ูู `time.sleep()`
3. **ููุจุช:** ููุท ุฏุฑ ุตูุฑุช ุฌูุช ุงุดุชุจุงู ููุจุช ุชุบุฑ ฺฉูุฏ
4. **ุงูุชุงุฒ:** ููุท ููุช ุฌูุช ุฏุฑุณุช ุจุงุดุฏ ุงูุชุงุฒ ุงุถุงูู ุดูุฏ
5. **ูุญุฏูุฏู ุณุทุญ:** `level_start` ูโุชูุงูุฏ ูุฑ ุนุฏุฏ ุจุงุดุฏ (1, 11, 21, 101, ...)

---

## ูุงุฒ ุจุนุฏ

ูุงุฒ 3 ุดุงูู ููุงุฑุฏ ุฒุฑ ุฎูุงูุฏ ุจูุฏ:
- ุฌูููโูุง ุจุตุฑ ุจุดุชุฑ
- ุตุฏุงฺฏุฐุงุฑ
- ุงููุดูโูุง ูพุดุฑูุชูโุชุฑ
- ุณุทูุญ ุณุฎุช ูุฎุชูู
