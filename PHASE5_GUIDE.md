# ุฑุงูููุง ูุงุฒ 5 - UI/UX ู ุชุนุงูู ฺฉุงูู

## ุฎูุงุตู ูพุงุฏูโุณุงุฒ

ูุงุฒ 5 ฺฉ ุณุณุชู ฺฉุงูู UI/UX ุจุง ูููุ ุชูุธูุงุชุ ุงูุชุงุฒุจูุฏุ ุฐุฎุฑูโุณุงุฒุ ู ฺฏููุฏู ูุงุฑุณ ุงุถุงูู ูโฺฉูุฏ.

---

## ูฺฺฏโูุง ุฌุฏุฏ

### 1. ููู ุงุตู (GameMenu)

**ูุฏู:** ุงุฑุงุฆู ุฑุงุจุท ฺฉุงุฑุจุฑ ุณุงุฏู ู ุฌุฐุงุจ ุจุฑุง ุดุฑูุน ุจุงุฒ

**ูุดุฎุตุงุช:**
- ุฏฺฉูู ุดุฑูุน ุจุงุฒ (ุณุจุฒ)
- ุฏฺฉูู ุชูุธูุงุช (ุขุจ)
- ุฏฺฉูู ุฎุฑูุฌ (ูุฑูุฒ)
- ุนููุงู ุจุฒุฑฺฏ ู ุฑูฺฏ
- ูููุชโูุง ุจุฒุฑฺฏ ุจุฑุง ฺฉูุฏฺฉุงู

**ฺฉุฏ:**
```python
class GameMenu(Entity):
    def create_menu(self):
        # ุนููุงู
        self.title = Text(
            text='๐ฎ ุจุงุฒ ุญุงูุธู ฺฉูุฏฺฉุงู ๐ฎ',
            scale=3,
            color=color.yellow
        )
        
        # ุฏฺฉููโูุง ุจุง scale ุจุฒุฑฺฏ
        start_btn = Button(
            text='โถ ุดุฑูุน ุจุงุฒ',
            scale=(0.3, 0.1),
            on_click=self.start_game
        )
        start_btn.text_entity.scale = 2
```

---

### 2. ููู ุชูุธูุงุช (SettingsMenu)

**ูุฏู:** ุงูฺฉุงู ุชูุธู ุจุงุฒ ุชูุณุท ูุนูู ูุจู ุงุฒ ุดุฑูุน

#### ุชูุธูุงุช ููุฌูุฏ:

**ุงูู) ุชุนุฏุงุฏ ุจุงุฒฺฉูุงู (1-5)**
```python
# ุฏฺฉููโูุง + ู -
players_minus = Button(text='โ', on_click=Func(self.change_players, -1))
players_plus = Button(text='+', on_click=Func(self.change_players, 1))

def change_players(self, delta, text_obj):
    current_settings['num_players'] = max(1, min(5, 
        current_settings['num_players'] + delta))
```

**ุจ) ูุญุฏูุฏู ุงุนุฏุงุฏ**
- ฺฏุฒูู 1: ุงุนุฏุงุฏ 1-10 (6 ุฌูุช)
- ฺฏุฒูู 2: ุงุนุฏุงุฏ 11-20 (10 ุฌูุช)

```python
def cycle_level(self, text_obj):
    if current_settings['level_start'] == 1:
        current_settings['level_start'] = 11
        current_settings['num_pairs'] = 10
    else:
        current_settings['level_start'] = 1
        current_settings['num_pairs'] = 6
```

**ุฌ) ฺฏููุฏู (ูุนุงู/ุบุฑูุนุงู)**
```python
def toggle_voiceover(self, text_obj):
    current_settings['voiceover_enabled'] = not current_settings['voiceover_enabled']
```

---

### 3. ูพูู ุงูุชุงุฒุงุช (Scoreboard)

**ูุฏู:** ููุงุด ูุญุธูโุง ุงูุชุงุฒุงุช ุจุงุฒฺฉูุงู

**ูููุนุช:** ฺฏูุดู ุจุงูุง-ุฑุงุณุช ุตูุญู

**ูฺฺฏโูุง:**
- ูพุณโุฒููู ูููโุดูุงู
- ุนููุงู ุทูุง: "๐ ุงูุชุงุฒุงุช"
- ุงูุฏุงุฒู ุฏุงูุงูฺฉ ุจุฑ ุงุณุงุณ ุชุนุฏุงุฏ ุจุงุฒฺฉูุงู

**ฺฉุฏ:**
```python
def create_scoreboard(self):
    # ูพุณโุฒููู
    self.scoreboard_bg = Entity(
        model='quad',
        color=color.rgba(0, 0, 0, 150),  # ูููโุดูุงู
        scale=(0.35, 0.15 + 0.08 * self.num_players),
        position=(0.75, 0.35)
    )
    
    # ุนููุงู
    self.scoreboard_title = Text(
        text='๐ ุงูุชุงุฒุงุช',
        position=(0.75, 0.42),
        scale=1.8,
        color=color.gold
    )
```

---

### 4. ุฐุฎุฑูโุณุงุฒ JSON (DataManager)

**ูุฏู:** ุฐุฎุฑู ูุชุงุฌ ูุฑ ุจุงุฒ ุจุฑุง ูพฺฏุฑ ูพุดุฑูุช

#### ุณุงุฎุชุงุฑ ูุงู JSON:

```json
{
  "games": [
    {
      "date": "2026-02-01 06:00:00",
      "winner": "ุจุงุฒฺฉู 1",
      "game_time": 45.67,
      "num_players": 2,
      "scores": [5, 3]
    },
    {
      "date": "2026-02-01 06:15:00",
      "winner": "ูุณุงู (1, 2)",
      "game_time": 52.34,
      "num_players": 2,
      "scores": [4, 4]
    }
  ]
}
```

#### ฺฉูุงุณ DataManager:

```python
class DataManager:
    def save_game_result(self, winner, game_time, num_players, scores):
        # ุฎูุงูุฏู ุฏุงุฏูโูุง ูุจู
        if self.filepath.exists():
            with open(self.filepath, 'r', encoding='utf-8') as f:
                data = json.load(f)
        else:
            data = {'games': []}
        
        # ุงุถุงูู ฺฉุฑุฏู ุจุงุฒ ุฌุฏุฏ
        game_result = {
            'date': datetime.now().strftime('%Y-%m-%d %H:%M:%S'),
            'winner': winner,
            'game_time': round(game_time, 2),
            'num_players': num_players,
            'scores': scores
        }
        
        data['games'].append(game_result)
        
        # ุฐุฎุฑู
        with open(self.filepath, 'w', encoding='utf-8') as f:
            json.dump(data, f, ensure_ascii=False, indent=2)
```

**ุงุณุชูุงุฏู:**
```python
# ุฏุฑ ูพุงุงู ุจุงุฒ
self.data_manager.save_game_result(
    winner='ุจุงุฒฺฉู 1',
    game_time=45.67,
    num_players=2,
    scores=[5, 3]
)
```

---

### 5. ุณุณุชู ฺฏููุฏู (VoiceoverManager)

**ูุฏู:** ฺฉูฺฉ ุจู ุงุฏฺฏุฑ ุงุนุฏุงุฏ ุงุฒ ุทุฑู ุดูุฏู ุชููุธ ุตุญุญ

#### ูฺฺฏโูุง:
- ุฎูุงูุฏู ุงุนุฏุงุฏ ุจู ูุงุฑุณ
- ุตุฏุง ูุฑุฏุงูู (ุชุฑุฌุญ)
- ูพุฎุด ุฎูุฏฺฉุงุฑ ููฺฏุงู ุจุงุฒ ุดุฏู ฺฉุงุฑุช
- ูุงุจู ูุนุงู/ุบุฑูุนุงู ุฏุฑ ุชูุธูุงุช

#### ูุงูโูุง ุตูุช:

**ูุณุฑ:** `assets/voices/`

**ูุฑูุช ูุงูโฺฏุฐุงุฑ:**
```
1.mp3  โ "ฺฉ"
2.mp3  โ "ุฏู"
3.mp3  โ "ุณู"
...
10.mp3 โ "ุฏู"
11.mp3 โ "ุงุฒุฏู"
...
20.mp3 โ "ุจุณุช"
```

#### ฺฉูุงุณ VoiceoverManager:

```python
class VoiceoverManager:
    def __init__(self):
        self.voices = {}
        self.enabled = True
        self.load_voiceovers()
    
    def load_voiceovers(self):
        voice_path = Path('assets/voices')
        for i in range(1, 21):
            voice_file = voice_path / f'{i}.mp3'
            if voice_file.exists():
                self.voices[i] = Audio(str(voice_file))
    
    def speak_number(self, number):
        if self.enabled and number in self.voices:
            self.voices[number].play()
```

#### ุงุฏุบุงู ุฏุฑ ุจุงุฒ:

```python
# ุฏุฑ NumberCard._show_number()
def _show_number(self):
    # ููุงุด ุนุฏุฏ
    self.number_text.enabled = True
    self.back_text.enabled = False
    
    # ูพุฎุด ฺฏููุฏู
    if game_manager and game_manager.voiceover_manager:
        game_manager.voiceover_manager.speak_number(self.number)
```

---

## ุฌุฑุงู ฺฉุงูู ุจุงุฒ

### ูุฑุญูู 1: ุดุฑูุน ุจุฑูุงูู
```
ุจุฑูุงูู ุงุฌุฑุง ูโุดูุฏ
    โ
GameMenu ููุงุด ุฏุงุฏู ูโุดูุฏ
    โโ ุฏฺฉูู ุดุฑูุน ุจุงุฒ
    โโ ุฏฺฉูู ุชูุธูุงุช
    โโ ุฏฺฉูู ุฎุฑูุฌ
```

### ูุฑุญูู 2: ุชูุธูุงุช (ุงุฎุชุงุฑ)
```
ูุนูู ุฑู "ุชูุธูุงุช" ฺฉูฺฉ ูโฺฉูุฏ
    โ
SettingsMenu ููุงุด ุฏุงุฏู ูโุดูุฏ
    โโ ุงูุชุฎุงุจ ุชุนุฏุงุฏ ุจุงุฒฺฉูุงู (1-5)
    โโ ุงูุชุฎุงุจ ูุญุฏูุฏู ุงุนุฏุงุฏ (1-10 ุง 11-20)
    โโ ูุนุงู/ุบุฑูุนุงู ฺฉุฑุฏู ฺฏููุฏู
    โโ ุจุงุฒฺฏุดุช ุจู ููู
```

### ูุฑุญูู 3: ุดุฑูุน ุจุงุฒ
```
ฺฉุงุฑุจุฑ ุฑู "ุดุฑูุน ุจุงุฒ" ฺฉูฺฉ ูโฺฉูุฏ
    โ
GameManager ุงุฌุงุฏ ูโุดูุฏ ุจุง ุชูุธูุงุช ูุนู
    โโ ฺฉุงุฑุชโูุง ุงุฌุงุฏ ูโุดููุฏ
    โโ Scoreboard ููุงุด ุฏุงุฏู ูโุดูุฏ
    โโ ุฒูุงู ุดุฑูุน ุซุจุช ูโุดูุฏ
```

### ูุฑุญูู 4: ุจุงุฒ
```
ฺฉูุฏฺฉ ุฑู ฺฉุงุฑุช ฺฉูฺฉ ูโฺฉูุฏ
    โ
ฺฉุงุฑุช ุจุงุฒ ูโุดูุฏ
    โโ ุตุฏุง ฺฉูฺฉ ูพุฎุด ูโุดูุฏ
    โโ ุนุฏุฏ ููุงุด ุฏุงุฏู ูโุดูุฏ
    โโ ฺฏููุฏู ุนุฏุฏ ุฑุง ูโุฎูุงูุฏ (ุงฺฏุฑ ูุนุงู ุจุงุดุฏ)
    
ุฏู ฺฉุงุฑุช ุจุงุฒ ูโุดููุฏ
    โ
ุจุฑุฑุณ ุชุทุจู
    โโ ูููู โ ุตุฏุง ููููุชุ confettiุ ุงูุชุงุฒ +1
    โโ ูุงูููู โ ุตุฏุง ุงุดุชุจุงูุ ุชุฃุฎุฑ 1.5sุ ุชุบุฑ ููุจุช
```

### ูุฑุญูู 5: ูพุงุงู ุจุงุฒ
```
ุชูุงู ุฌูุชโูุง ูพุฏุง ูโุดููุฏ
    โ
game_over() ูุฑุงุฎูุงู ูโุดูุฏ
    โโ ูุญุงุณุจู ุฒูุงู ุจุงุฒ
    โโ ุชุนู ุจุฑูุฏู
    โโ ุฐุฎุฑู ูุชุงุฌ ุฏุฑ JSON
    โโ ููุงุด ูพุงู ุจุฑูุฏู
    โโ ููุงุด ุฏฺฉูู "ุจุงุฒฺฏุดุช ุจู ููู"
```

### ูุฑุญูู 6: ุจุงุฒฺฏุดุช ุจู ููู
```
ฺฉุงุฑุจุฑ ุฑู "ุจุงุฒฺฏุดุช ุจู ููู" ฺฉูฺฉ ูโฺฉูุฏ
    โ
ูพุงฺฉุณุงุฒ ุงููุงูโูุง ุจุงุฒ
    โ
GameMenu ุฏูุจุงุฑู ููุงุด ุฏุงุฏู ูโุดูุฏ
```

---

## ูุฒุงุง ุขููุฒุด

### 1. ฺฏููุฏู ูุงุฑุณ
**ูุดฺฉู:** ุจุฑุฎ ฺฉูุฏฺฉุงู ุฏุฑ ุฎูุงูุฏู ุงุนุฏุงุฏ ูุดฺฉู ุฏุงุฑูุฏ

**ุฑุงูโุญู:** 
- ูุฑ ุนุฏุฏ ุฑุง ูโุดูููุฏ
- ุชููุธ ุตุญุญ ุงุฏ ูโฺฏุฑูุฏ
- ุงุฏฺฏุฑ ุณุฑุนโุชุฑ ูโุดูุฏ

**ูุซุงู:**
```
ฺฉุงุฑุช ุจุง ุนุฏุฏ "ท" ุจุงุฒ ูโุดูุฏ
    โ
ฺฉูุฏฺฉ ุนุฏุฏ ุฑุง ูโุจูุฏ
    โ
ฺฏููุฏู ูโฺฏูุฏ: "ููุช"
    โ
ฺฉูุฏฺฉ ุงุฏ ูโฺฏุฑุฏ ท = "ููุช"
```

### 2. ูพฺฏุฑ ูพุดุฑูุช
**JSON ุฐุฎุฑู ูโฺฉูุฏ:**
- ฺู ฺฉุณ ุจุฑูุฏู ุดุฏ
- ฺูุฏุฑ ุทูู ฺฉุดุฏ
- ุงูุชุงุฒ ูุฑ ุจุงุฒฺฉู

**ูุนูู ูโุชูุงูุฏ:**
- ูพุดุฑูุช ุฑุง ุจุจูุฏ
- ุฏุงูุดโุขููุฒุงู ุถุนู ุฑุง ุดูุงุณุง ฺฉูุฏ
- ุจุฑูุงูู ุขููุฒุด ุชูุธู ฺฉูุฏ

### 3. ุชูุธูุงุช ุงูุนุทุงูโูพุฐุฑ
**ูุนูู ูโุชูุงูุฏ:**
- ุชุนุฏุงุฏ ุจุงุฒฺฉูุงู ุฑุง ุชุบุฑ ุฏูุฏ
- ูุญุฏูุฏู ุงุนุฏุงุฏ ุฑุง ุงูุชุฎุงุจ ฺฉูุฏ
- ฺฏููุฏู ุฑุง ูุนุงู/ุบุฑูุนุงู ฺฉูุฏ

---

## ูฺฉุงุช ูู

### 1. ูุฏุฑุช ุญุงูุธู

**ูพุงฺฉุณุงุฒ ุจุนุฏ ุงุฒ ุจุงุฒ:**
```python
def return_to_menu(self):
    # ุญุฐู ฺฉุงุฑุชโูุง
    for card in self.cards:
        destroy(card)
    
    # ุญุฐู UI elements
    for ui_text in self.ui_texts:
        destroy(ui_text)
    
    # ุญุฐู ุณุงุฑ ุงููุงูโูุง
    destroy(self.turn_text)
    destroy(self.level_text)
    destroy(self.scoreboard_bg)
```

### 2. ุชูุธูุงุช ุณุฑุงุณุฑ

**ุงุณุชูุงุฏู ุงุฒ ูุชุบุฑ ุณุฑุงุณุฑ:**
```python
current_settings = {
    'num_players': 2,
    'level_start': 1,
    'num_pairs': 6,
    'voiceover_enabled': True
}
```

### 3. Graceful Degradation

**ุจุฏูู ูุงูโูุง ุตูุช:**
- ุจุงุฒ ฺฉุงุฑ ูโฺฉูุฏ
- ฺฏููุฏู ุจโุตุฏุง ุงุณุช
- ูฺ ุฎุทุง ุฑุฎ ููโุฏูุฏ

```python
def speak_number(self, number):
    if self.enabled and number in self.voices:
        try:
            self.voices[number].play()
        except:
            pass  # ุจโุตุฏุง ุงุฏุงูู ูโุฏูุฏ
```

---

## ุขูุงุฑ ูพุงุฏูโุณุงุฒ

### ฺฉุฏ:
- **ุฎุทูุท ุฌุฏุฏ:** ~400
- **ฺฉู ุฎุทูุท:** ~1000
- **ฺฉูุงุณโูุง ุฌุฏุฏ:** 4
- **ูุชุฏูุง ุฌุฏุฏ:** 15+

### UI:
- **ููู ุงุตู:** 3 ุฏฺฉูู
- **ููู ุชูุธูุงุช:** 6 ุงููุงู
- **Scoreboard:** 2 ุงููุงู
- **ุฏฺฉูู ุจุงุฒฺฏุดุช:** 1 ุฏฺฉูู

### ุฐุฎุฑูโุณุงุฒ:
- **ูุงู JSON:** game_results.json
- **ููุฏูุง:** 5 (date, winner, game_time, num_players, scores)

---

## ุชุณุช

ุจุฑุง ุชุณุช ูุงุฒ 5:
```bash
python test_phase5.py
```

---

## ูุชุฌูโฺฏุฑ

ูุงุฒ 5 ฺฉ ุณุณุชู ฺฉุงูู UI/UX ุงุฑุงุฆู ูโุฏูุฏ:

โ ููู ุงุตู ุฌุฐุงุจ  
โ ุชูุธูุงุช ูพูุง  
โ ุงูุชุงุฒุจูุฏ ูุญุธูโุง  
โ ุฐุฎุฑูโุณุงุฒ ูุชุงุฌ  
โ ฺฏููุฏู ูุงุฑุณ ุขููุฒุด  

**ุจุงุฒ ุญุงูุง ฺฉุงููุงู ุขูุงุฏู ุงุณุช ุจุฑุง ุงุณุชูุงุฏู ุฏุฑ ฺฉูุงุณ ุฏุฑุณ!** ๐๐ฎโ
